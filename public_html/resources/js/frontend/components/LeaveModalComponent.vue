<template>
  <v-modal ref="modal">
    <template #modal-content>
      <div class="toolbox">
        <div class="block">
          <a class="item" :href="manageUserUrl" v-if="canManageUser">
            <svg width="54" height="54" viewBox="0 0 54 54" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M15.4121 0H39.0565C42.09 1.08022 43.0648 3.36796 42.6671 6.41957C43.2364 6.41957 43.6185 6.41957 43.9967 6.41957C46.9678 6.44271 48.9681 8.29451 48.9759 11.2381C49.011 23.5526 49.0071 35.867 48.9759 48.1815C48.9681 51.1251 46.9678 52.9923 43.9928 52.9961C34.4048 53.0039 24.8207 53.0039 15.2327 52.9961C12.3279 52.9961 10.4017 51.1173 10.2925 48.2316C10.273 47.7648 10.2925 47.298 10.2925 46.7888C9.74273 46.7888 9.36061 46.7888 8.9785 46.7888C6.01515 46.7579 4.03438 44.883 4.02659 41.9355C3.98759 32.0708 3.99149 22.2061 4.03828 12.3415C4.03828 11.7281 4.36191 10.968 4.79472 10.5282C8.29615 6.98668 11.8639 3.50298 15.4121 0ZM7.20828 13.4525C7.18099 13.7265 7.1537 13.8923 7.1537 14.0582C7.1537 23.3018 7.1459 32.5415 7.1576 41.785C7.1576 43.1739 7.72297 43.6754 9.16955 43.6793C18.5821 43.6793 27.9907 43.6793 37.4032 43.6793C39.0838 43.6793 39.5751 43.2009 39.579 41.5189C39.5829 29.4474 39.579 17.376 39.579 5.30849C39.579 3.557 39.1111 3.10176 37.3526 3.10176C31.149 3.10176 24.9455 3.10176 18.738 3.10176C18.3988 3.10176 18.0596 3.10176 17.6151 3.10176C17.6151 3.584 17.6151 3.95436 17.6151 4.32472C17.6151 6.70505 17.6229 9.08538 17.6034 11.4619C17.5917 12.9472 17.0809 13.441 15.5797 13.4448C12.8269 13.4564 10.0781 13.4448 7.21608 13.4448L7.20828 13.4525ZM42.7178 9.52133C42.7178 10.0923 42.7178 10.536 42.7178 10.9796C42.7178 21.1568 42.7256 31.3301 42.71 41.5073C42.7022 44.9987 40.8501 46.7888 37.3448 46.7888C29.7804 46.7888 22.2122 46.7888 14.6478 46.7888C14.2735 46.7888 13.8992 46.7888 13.5444 46.7888C13.213 48.7756 13.3962 49.9484 16.0788 49.9291C25.2106 49.8519 34.3463 49.8982 43.482 49.8982C45.4394 49.8982 45.8527 49.4893 45.8566 47.5218C45.8605 38.9341 45.8644 30.3425 45.8644 21.7548C45.8644 18.3405 45.8722 14.9263 45.8566 11.5082C45.8488 10.046 45.3029 9.5329 43.8173 9.52904C43.5093 9.52904 43.1974 9.52904 42.7178 9.52904V9.52133ZM14.4646 5.8486C12.9478 7.34547 11.3804 8.89249 9.96108 10.2929H14.3944C14.4217 10.0383 14.4568 9.83768 14.4607 9.64092C14.4646 8.30223 14.4607 6.96353 14.4607 5.8486H14.4646Z"/>
              <path d="M33.5118 12.8005C36.2217 14.6909 36.6194 17.4185 36.4206 20.3543C36.3504 21.3805 35.785 21.9284 34.7362 21.9322C31.3595 21.9515 27.9828 21.9476 24.6062 21.9245C23.4442 21.9168 22.9101 21.3612 22.8438 20.2039C22.6683 17.2911 23.1245 14.6176 25.7447 12.8237C24.497 9.84538 24.844 7.80068 26.8014 6.34239C28.556 5.03456 30.9072 5.06542 32.6033 6.41955C34.4671 7.90484 34.8024 10.0768 33.5157 12.7967L33.5118 12.8005ZM26.045 18.7764H33.2389C33.3364 16.3884 31.8157 14.6986 29.6322 14.7025C27.4526 14.7025 25.9007 16.4347 26.0411 18.7764H26.045ZM31.184 10.0306C31.1801 9.20882 30.5017 8.51825 29.679 8.49511C28.8056 8.47196 28.0881 9.17796 28.092 10.0498C28.092 10.9179 28.829 11.62 29.6985 11.5853C30.5212 11.5544 31.1918 10.8523 31.184 10.0306Z"/>
              <path d="M23.3468 28.1511C19.6543 28.1511 15.9657 28.1511 12.2733 28.1511C11.0372 28.1511 10.3393 27.6072 10.312 26.6388C10.2808 25.6473 11.0177 25.0532 12.3044 25.0532C19.6855 25.0532 27.0666 25.0532 34.4477 25.0532C35.6564 25.0532 36.3193 25.547 36.3972 26.4614C36.483 27.4914 35.7773 28.1473 34.5218 28.1511C30.7942 28.1588 27.0705 28.1511 23.3429 28.1511C23.3429 28.1511 23.3429 28.1511 23.3429 28.1473L23.3468 28.1511Z"/>
              <path d="M23.3623 34.3663C19.7049 34.3663 16.0475 34.3663 12.3941 34.3624C12.0158 34.3624 11.6142 34.3509 11.2711 34.2236C10.5732 33.9651 10.1481 33.3594 10.3665 32.6804C10.5303 32.1673 11.0372 31.7275 11.4778 31.3571C11.6688 31.1951 12.0821 31.2761 12.3941 31.2761C19.7088 31.2723 27.0197 31.2684 34.3345 31.2684C34.4749 31.2684 34.6153 31.2645 34.7517 31.2684C35.7889 31.3224 36.4401 31.9512 36.4128 32.8694C36.3855 33.7413 35.7538 34.3547 34.7556 34.3624C32.073 34.3856 29.3943 34.3702 26.7117 34.3702C25.5965 34.3702 24.4814 34.3702 23.3701 34.3702L23.3623 34.3663Z"/>
              <path d="M23.3623 37.4719C27.0899 37.4719 30.8136 37.4758 34.5412 37.4719C35.4848 37.4719 36.1944 37.7728 36.3777 38.772C36.5726 39.8368 35.824 40.5737 34.5373 40.5775C31.5077 40.5891 28.478 40.5814 25.4484 40.5775C21.0268 40.5775 16.6012 40.5814 12.1796 40.5737C11.0138 40.5737 10.3431 40.0104 10.3119 39.073C10.2807 38.0892 10.9748 37.4796 12.1796 37.4758C15.9072 37.4681 19.6309 37.4758 23.3585 37.4758L23.3623 37.4719Z"/>
              <path d="M15.5681 18.842C16.7144 18.842 17.8647 18.8227 19.011 18.8459C20.0638 18.869 20.7266 19.4901 20.7227 20.3929C20.7227 21.2956 20.056 21.9283 19.0071 21.9361C16.6793 21.9515 14.3476 21.9515 12.0198 21.9245C10.9515 21.9129 10.3003 21.2956 10.3042 20.3852C10.3042 19.4863 10.9749 18.8652 12.0237 18.8459C13.2052 18.8227 14.3866 18.842 15.5681 18.8459V18.842Z"/>
            </svg>
            {{ $t("back_user_manage") }}
          </a>
          <a class="item" v-if="canViewData" :href="viewDataUrl">
            <svg width="54" height="54" viewBox="0 0 54 54" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M0 5H4.02153V8.95322C4.77607 9.02502 5.39816 9.08486 6.12461 9.15666V10.7643C5.48245 10.8241 4.86035 10.88 4.15398 10.9478V13.8997C4.85634 13.9675 5.48245 14.0274 6.16875 14.0912V15.6988C5.53863 15.7706 4.91654 15.8384 4.18207 15.9182V18.8821C4.80416 18.926 5.42224 18.9739 6.13263 19.0257V20.6533C5.46639 20.7171 4.8443 20.773 4.14996 20.8408V23.8805C4.84831 23.9164 5.4704 23.9483 6.15671 23.9842V25.6158C5.53863 25.6676 4.92055 25.7235 4.18207 25.7873V28.8031C4.76804 28.8589 5.39013 28.9188 6.12059 28.9866V30.6062C5.51455 30.654 4.88845 30.7059 4.16602 30.7657V33.7536C4.81219 33.8174 5.4383 33.8812 6.16474 33.957C6.18882 34.4636 6.20889 34.9344 6.23698 35.5287C5.53863 35.6045 4.92055 35.6723 4.18207 35.7521V38.7081C4.79212 38.7599 5.4102 38.8118 6.12862 38.8756V40.5151C5.48245 40.571 4.86035 40.6189 4.15398 40.6787V44.8673H50.5742V49H0V5Z"/>
              <path d="M40.8815 26.8724C36.2017 29.226 31.1608 28.2766 28.2109 24.3034C25.3733 20.4819 25.7145 15.1763 29.0176 11.8215C32.3689 8.41875 37.6306 7.93607 41.5397 10.6287C44.8629 12.9185 47.3553 17.9647 44.1966 23.8168C44.5579 24.1359 44.9793 24.455 45.3365 24.834C47.9814 27.6264 50.6263 30.4188 53.2391 33.2431C53.9575 34.0169 54.3829 34.9664 53.516 35.8799C52.5809 36.8652 51.5975 36.4304 50.7587 35.6884C47.5118 32.8162 44.289 29.9201 40.8815 26.8724ZM28.7567 18.5272C28.7567 22.5602 32.0036 25.7714 36.0452 25.7395C40.0106 25.7116 43.2093 22.5003 43.2093 18.5471C43.2093 14.5221 39.9624 11.3109 35.9128 11.3348C31.9474 11.3587 28.7487 14.57 28.7527 18.5272H28.7567Z"/>
              <path d="M29.6517 26.8524C30.3099 27.2593 30.8517 27.5904 31.4939 27.9853C31.1247 28.6037 30.7715 29.1821 30.4343 29.7685C29.8845 30.7219 29.2423 31.5396 29.6477 32.872C30.0571 34.2124 28.8209 35.4809 27.4041 35.6086C25.9994 35.7362 24.8797 34.7349 24.6268 33.2988C24.5184 32.6845 24.2375 32.0024 23.8161 31.5556C22.4274 30.0836 20.9464 28.6954 19.4855 27.2952C18.4701 26.3219 17.4346 26.5094 16.8446 27.7779C15.6205 30.4147 14.3924 33.0515 13.2405 35.7202C13.0438 36.179 13.1161 36.8292 13.2525 37.3398C13.6338 38.7759 13.0519 40.1123 11.7234 40.6109C10.4029 41.1095 8.95006 40.4434 8.45239 39.115C7.96274 37.8066 8.62095 36.5221 9.96146 35.8359C10.5073 35.5567 11.0491 35.0461 11.314 34.5036C12.4097 32.2976 13.393 30.0357 14.4245 27.7979C14.9141 26.7367 15.3998 25.7634 15.0586 24.459C14.7335 23.2144 15.8252 22.0256 17.0935 21.8301C18.4179 21.6227 19.7745 22.3128 19.923 23.6053C20.0715 24.8978 20.8581 25.5919 21.6568 26.3737C22.9291 27.6183 24.1933 28.8709 25.4817 30.0956C26.3927 30.9652 27.1874 30.8535 27.8737 29.7765C28.4557 28.8629 28.9975 27.9255 29.6477 26.8484L29.6517 26.8524Z"/>
              <path d="M46.047 15.6389C45.9306 15.3278 45.7219 14.7852 45.6055 14.4781C46.2235 13.6284 46.7614 12.9463 47.2309 12.2242C47.9373 11.1392 49.3019 10.7084 50.4859 11.2549C51.6659 11.8014 52.2358 13.1337 51.8063 14.3504C51.3448 15.6628 50.1046 16.2812 48.7159 15.978C47.9413 15.8104 47.1386 15.7706 46.0429 15.6349L46.047 15.6389Z"/>
              <path d="M33.4646 24.5148C32.8987 24.1638 32.3649 23.8367 31.7107 23.4338C32.0478 22.8673 32.3288 22.3647 32.6378 21.878C33.2117 20.9685 33.6532 20.1467 33.3562 18.9101C32.9589 17.2426 34.6767 15.655 36.2861 16.2693C37.743 16.8278 38.8387 16.3172 40.0668 15.9143C40.5364 15.7587 40.9979 15.5911 41.62 15.3757C41.8729 15.994 42.1257 16.5964 42.4267 17.3344C41.604 17.6416 40.9257 17.9048 40.2354 18.1442C39.2641 18.4793 38.2567 18.7106 37.9718 19.9513C37.8955 20.2784 37.4942 20.7212 37.1811 20.773C35.2827 21.0882 34.7128 22.6639 33.89 24.0162C33.7937 24.1797 33.6452 24.3114 33.4646 24.5228V24.5148Z"/>
            </svg>
            {{ $t("back_data_manage") }}
          </a>
          <form :action="logoutUrl" method="post" v-if="guard == 'web'">
            <input type="hidden" name="_token" :value="csrfToken" />
            <button class="item" @click="handleLogout" type="submit" >
              <svg width="54" height="54" viewBox="0 0 54 54" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M27.1857 42.6879H34.7497C34.7497 42.5299 34.7497 42.3855 34.7497 42.2411C34.7497 39.1591 34.7497 36.077 34.7497 32.9949C34.7497 32.0789 35.1736 31.3885 36.0036 31.0004C36.8019 30.6258 37.5822 30.7296 38.2768 31.2802C38.8361 31.7269 39.0797 32.3271 39.0797 33.0446C39.0752 36.262 39.0797 39.484 39.0797 42.7014C39.0797 43.3332 39.0436 43.9694 39.0887 44.6012C39.1924 46.0633 38.0964 47.0876 36.6125 47.0651C33.6311 47.0154 30.6497 47.0515 27.6683 47.0515C27.5239 47.0515 27.3751 47.0515 27.1812 47.0515C27.1812 47.6066 27.1812 48.1255 27.1812 48.6444C27.1766 50.296 26.0265 51.2617 24.4163 50.9413C17.8671 49.6372 11.3225 48.3241 4.77784 47.0064C3.67279 46.7808 3.00073 45.9414 3.00073 44.8043C3.00073 31.6547 3.00073 18.5051 3.00073 5.36006C3.00073 3.92056 3.92086 3 5.35518 3C15.8509 3 26.3467 3 36.8425 3C38.1505 3 39.0797 3.92056 39.0797 5.22469C39.0797 9.16414 39.0797 13.1036 39.0797 17.0431C39.0797 18.2885 38.146 19.2452 36.9372 19.2497C35.7149 19.2587 34.7542 18.3021 34.7497 17.0431C34.7406 13.9745 34.7497 10.906 34.7497 7.83294V7.35912H20.1223C20.2486 7.41327 20.3118 7.44486 20.3749 7.46742C22.0393 7.96832 23.7036 8.46921 25.368 8.96559C26.6444 9.34465 27.1857 10.0621 27.1857 11.3888C27.1857 21.6278 27.1857 31.8668 27.1857 42.1103V42.6924V42.6879Z" />
                <path d="M43.5224 22.7605C43.0128 22.2596 42.5031 21.7542 41.9934 21.2533C41.7814 21.0458 41.5694 20.8337 41.3619 20.6216C40.5004 19.7371 40.4869 18.3924 41.3349 17.5395C42.1828 16.6866 43.5405 16.6731 44.4155 17.5395C45.8453 18.9519 47.2616 20.3824 48.6869 21.8039C49.2326 22.3499 49.7784 22.8869 50.3197 23.4374C51.2308 24.367 51.2398 25.6711 50.3197 26.5962C48.3666 28.5637 46.4091 30.5221 44.4471 32.4715C43.554 33.3605 42.2054 33.3605 41.3439 32.4986C40.4869 31.6367 40.505 30.292 41.3935 29.394C42.1016 28.681 42.8188 27.977 43.6126 27.1873C43.3646 27.1873 43.2202 27.1873 43.0804 27.1873C39.7382 27.1873 36.4005 27.1873 33.0582 27.1873C32.0073 27.1873 31.1864 26.6097 30.8887 25.6892C30.6 24.7822 30.9293 23.7939 31.7051 23.2434C32.1381 22.9365 32.6252 22.8418 33.1484 22.8418C36.4636 22.8418 39.7788 22.8418 43.0939 22.8418C43.2157 22.8418 43.342 22.8418 43.4638 22.8418C43.4818 22.8147 43.4999 22.7831 43.5179 22.756L43.5224 22.7605Z" />
              </svg>
              {{ $t("logout") }}
            </button>
          </form>
        </div>
        <button class="btn btn-back" @click="handleClickCloseModal">{{ $t("back_frontend") }}</button>
      </div>
    </template>
  </v-modal>
</template>

<script>
import modal from "../plugin/Modal.vue";
export default {
  components: {
    "v-modal": modal,
  },
  data() {
    return {
      csrfToken: "",
    };
  },
  mounted() {
    this.csrfToken = this.$utils.$csrfToken();
  },
  props: {
    logoutUrl: {
      type: String,
    },
    viewDataUrl: {
      type: String
    },
    manageUserUrl: {
      type: String
    },
    canManageUser: {
      type: Boolean,
      default: false
    },
    canViewData: {
      type: Boolean,
      default: false
    },
    guard: {
      type: String
    }
  },
  created() {},
  methods: {
    handleClickLeaveButton() {},
    handleClickCloseModal() {
      this.$refs.modal.closeModal()
    }
  },
};
</script>